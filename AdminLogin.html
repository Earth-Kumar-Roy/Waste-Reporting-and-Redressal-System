<!DOCTYPE html>
<html lang="en">

<head>
	<base target="_top">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Admin Authentication</title>

	<script src="https://cdn.tailwindcss.com"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

	<style>
		@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

		body {
			font-family: 'Inter', sans-serif;
		}

		.gov-strip {
			background: linear-gradient(to right, #FF9933 33.33%, #FFFFFF 33.33%, #FFFFFF 66.66%, #128807 66.66%);
			height: 4px;
		}
	</style>
</head>

<body class="bg-slate-100 min-h-screen flex flex-col">

	<div class="gov-strip w-full"></div>

	<header class="bg-white border-b border-slate-200 shadow-sm">
		<div
			class="max-w-6xl mx-auto px-4 py-1.5 flex justify-between items-center text-[10px] font-bold text-slate-500 uppercase tracking-tight">
			<div class="flex items-center gap-2">
				<i class="fas fa-landmark text-slate-400"></i>
				<span>Official Administration Access</span>
			</div>
			<button onclick="loadPage('Index')" class="text-emerald-700 hover:text-emerald-900 flex items-center gap-1 transition-all">
				<i class="fas fa-home"></i> Return to Main Home
			</button>
		</div>

		<div class="max-w-6xl mx-auto px-4 py-5 flex items-center justify-between">
			<div class="flex items-center gap-5">
				<div class="bg-slate-800 text-white p-4 rounded-lg shadow-inner">
					<i class="fas fa-user-tie text-3xl"></i>
				</div>
				<div>
					<h1 class="text-xl font-black text-slate-800 leading-none uppercase tracking-tighter">Admin Control
						Center</h1>
					<p class="text-[10px] text-emerald-700 font-extrabold tracking-[0.2em] uppercase mt-1">Waste
						Reporting & Redressal System</p>
				</div>
			</div>
			<div class="hidden md:flex items-center gap-2 text-slate-300">
				<i class="fas fa-shield-halved text-4xl opacity-20"></i>
			</div>
		</div>
	</header>

	<main class="flex-1 flex items-center justify-center p-4">
		<div class="max-w-md w-full bg-white rounded-lg shadow-xl border border-slate-200 overflow-hidden">

			<div class="bg-slate-900 px-8 py-4">
				<div class="text-[10px] font-black text-emerald-400 uppercase tracking-widest text-center">
					<i class="fas fa-key mr-2"></i> Authorized Administrative Login
				</div>
			</div>

			<div class="p-8 space-y-6">
				<div class="bg-amber-50 border-l-4 border-amber-500 p-4">
					<p class="text-[10px] font-bold text-amber-800 uppercase leading-relaxed">
						<i class="fas fa-info-circle mr-1"></i> Use only the administrative access code issued by the IT
						department.
					</p>
				</div>

				<div class="space-y-4">
					<div class="relative group">
						<span class="absolute inset-y-0 left-0 pl-3.5 flex items-center text-slate-400">
							<i class="fas fa-terminal text-xs"></i>
						</span>
						<input type="text" id="loginCode" placeholder="Enter Access Code"
							class="w-full pl-10 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-md outline-none focus:ring-1 focus:ring-emerald-600 text-sm font-mono font-bold tracking-widest text-slate-700 uppercase">
					</div>

						<button id="loginBtn" onclick="loginWithCode()"
						class="w-full py-4 bg-slate-900 hover:bg-emerald-900 text-white text-xs font-black rounded shadow-lg uppercase tracking-[0.2em] transition-all active:scale-[0.98]">
						Authenticate Code
					</button>
					</div>

					<div id="message" class="text-center text-[10px] font-black min-h-[16px] uppercase tracking-widest">
					</div>
				</div>

				<footer class="bg-slate-50 p-6 border-t border-slate-200 text-center">
					<div class="inline-block mb-3">
						<a href="mailto:earth.kumar.roy9752@gmail.com"
							class="text-[10px] font-black text-emerald-800 uppercase tracking-widest hover:underline">
							<i class="fas fa-envelope-open-text mr-1"></i> Contact Administrator
						</a>
					</div>
					<p class="text-[9px] text-slate-400 font-black uppercase tracking-[0.4em]">Â© 2026 EKR | Kolkata
						Municipality</p>
				</footer>
			</div>
	</main>

	<script>
		function loginWithCode() {
			const code = document.getElementById("loginCode").value.trim();
			const msg = document.getElementById("message");
			const btn = document.getElementById("loginBtn");

			if (!code) {
				msg.className = "text-center text-[10px] font-black mt-3 text-red-600 uppercase tracking-widest";
				msg.innerHTML = "Code Required";
				return;
			}

			btn.disabled = true;
			btn.innerText = 'VERIFYING...';
			msg.className = "text-center text-[10px] font-black mt-3 text-slate-500 uppercase tracking-widest";
			msg.innerHTML = "Querying Registry...";

			google.script.run
				.withSuccessHandler(valid => {
					if (valid === true) {
						msg.className = "text-center text-[10px] font-black mt-3 text-emerald-600 uppercase tracking-widest";
						msg.innerHTML = "Access Validated";

						google.script.run.withSuccessHandler(html => {
							document.open();
							document.write(html);
							document.close();
						}).loadPage("AdminDashboard");
					} else {
						btn.disabled = false;
						btn.innerText = 'Authenticate Code';
						msg.className = "text-center text-[10px] font-black mt-3 text-red-600 uppercase tracking-widest";
						msg.innerHTML = "Access Denied: Invalid Code";
					}
				})
				.withFailureHandler(() => {
					btn.disabled = false;
					btn.innerText = 'Authenticate Code';
					msg.className = "text-center text-[10px] font-black mt-3 text-red-600 uppercase tracking-widest";
					msg.innerHTML = "Registry Offline";
				})
				.checkCode(code);
		}

		window.loadPage = function(pageName) {
			google.script.run.withSuccessHandler(html => {
				document.open(); document.write(html); document.close();
			}).loadPage(pageName);
		};
	</script>
</body>

</html>
